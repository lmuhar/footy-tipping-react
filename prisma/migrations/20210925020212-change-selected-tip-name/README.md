# Migration `20210925020212-change-selected-tip-name`

This migration has been generated by lmuhar at 9/25/2021, 12:02:12 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Tip" DROP CONSTRAINT "Tip_tipId_fkey"

ALTER TABLE "public"."Tip" DROP COLUMN "tipId",
ADD COLUMN "selectedTipId" text   NOT NULL 

ALTER TABLE "public"."Tip" ADD FOREIGN KEY("selectedTipId")REFERENCES "public"."TeamName"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210925012459-change-game-id..20210925020212-change-selected-tip-name
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -30,19 +30,19 @@
   tip      Tip[]  @relation("tip")
 }
 model Tip {
-  id        String   @id @default(cuid())
-  createdAt DateTime @default(now())
-  tip       TeamName @relation("tip", fields: [tipId], references: [id])
-  tipId     String
-  round     Round    @relation(fields: [roundId], references: [id])
-  roundId   String
-  game      Game     @relation(fields: [gameId], references: [id])
-  gameId    String
-  user      User     @relation(fields: [userId], references: [id])
-  userId    String
-  correct   Boolean?
+  id            String   @id @default(cuid())
+  createdAt     DateTime @default(now())
+  selectedTip   TeamName @relation("tip", fields: [selectedTipId], references: [id])
+  selectedTipId String
+  round         Round    @relation(fields: [roundId], references: [id])
+  roundId       String
+  game          Game     @relation(fields: [gameId], references: [id])
+  gameId        String
+  user          User     @relation(fields: [userId], references: [id])
+  userId        String
+  correct       Boolean?
 }
 model Game {
   id            String    @id @default(cuid())
```


