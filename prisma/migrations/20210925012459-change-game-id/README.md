# Migration `20210925012459-change-game-id`

This migration has been generated by lmuhar at 9/25/2021, 11:24:59 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Tip" ADD COLUMN "gameId" text   NOT NULL 

ALTER TABLE "public"."Tip" ADD FOREIGN KEY("gameId")REFERENCES "public"."Game"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210924220259-remove-unique..20210925012459-change-game-id
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -36,8 +36,10 @@
   tip       TeamName @relation("tip", fields: [tipId], references: [id])
   tipId     String
   round     Round    @relation(fields: [roundId], references: [id])
   roundId   String
+  game      Game     @relation(fields: [gameId], references: [id])
+  gameId    String
   user      User     @relation(fields: [userId], references: [id])
   userId    String
   correct   Boolean?
 }
@@ -54,8 +56,9 @@
   round         Round     @relation(fields: [roundId], references: [id])
   roundId       String
   resultId      String?
   result        TeamName? @relation("result", fields: [resultId], references: [id])
+  tip           Tip[]
 }
 model Round {
   id          String   @id @default(cuid())
```


